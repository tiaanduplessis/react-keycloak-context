!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t(e.reactKeycloakContext={},e.react)}(this,function(e,t){var o="default"in t?t.default:t,n=t.createContext(null),r=function(e){function t(){for(var t=this,o=[],n=arguments.length;n--;)o[n]=arguments[n];e.apply(this,o),this.state={kc:{loading:!0}},this.handleSetupKeycloak=function(e){var o=t.props,n=o.initOptions,r=o.refreshTokenKey,i=o.tokenKey,c=o.onInit,a=o.storage;void 0===a&&(a=window.localStorage);var s=e.default(o.config),p=a.getItem(i),f=a.getItem(r);return p&&"undefined"!==p&&f&&"undefined"!==f&&(n.token=p,n.refreshToken=f),s.init(n).then(function(e){a.setItem(i,s.token),a.setItem(r,s.refreshToken),c(s),t.setState({kc:s})})}}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.componentDidMount=function(){import("keycloak-js").then(this.handleSetupKeycloak).catch(this.props.onError)},t.prototype.render=function(){return o.createElement(n.Provider,{value:this.state.kc},this.props.children)},t}(t.Component);r.defaultProps={onError:console.error,onInit:function(){},config:{},initOptions:{onLoad:"login-required",promiseType:"native"},refreshTokenKey:"kc_refreshToken",tokenKey:"kc_token"};var i=n.Consumer;e.Provider=r,e.Consumer=i});
